---
title: "Руководство по установке Outline VPN"
description: "Пошаговая установка и настройка сервера Outline VPN на Debian, Ubuntu, CentOS, Fedora, AlmaLinux и других дистрибутивах"
head:
  - - meta
    - name: keywords
      content: outline, vpn, сервер, установка, debian, ubuntu, centos, fedora, almalinux, руководство, конфигурация, shadowsocks
  - - meta
    - property: og:title
      content: "Outline VPN — полное руководство по установке"
  - - meta
    - property: og:description
      content: "Пошаговая инструкция по установке и настройке сервера Outline VPN на разных Linux-дистрибутивах."
---

# Руководство по установке Outline VPN

<img src="/images/vpn/outline/outline-logo.png" style="display: flex !important; justify-content: center !important; height: 500px;"></img>

Outline — это современное, быстрое и безопасное VPN‑решение, разработанное Jigsaw (подразделение Google). Оно использует протокол Shadowsocks и предоставляет удобное приложение для управления сервером и ключами доступа. В этом руководстве мы покажем, как установить и настроить Outline на вашем сервере.

::: tip Подсказка 
Клиентам нашего хостинга доступна полностью автоматическая установка Outline при первоначальном заказе услуги или с помощью скриптов в панели управления ВМ. После завершения установки скрипта вам будут предоставлены данные для подключения через Outline Connect, а также данные для управления сервером с помощью Outline Manager.
:::

## Требования

Перед началом убедитесь, что у вас есть:

- Сервер с одним из поддерживаемых Linux‑дистрибутивов (Debian/Ubuntu, RHEL/CentOS/AlmaLinux/Rocky/Fedora)
- Доступ root или sudo на сервере
- Базовые навыки работы в командной строке
- Публичный IP‑адрес сервера
- Устройство для установки приложения Outline Manager (Windows, macOS или Linux)

## Установка

### Автоматическая установка для клиентов хостинга

#### При заказе услуги

В меню заказа через выпадающее меню выберите опцию "Outline", завершите заказ и дождитесь окончания обработки услуги.

Сразу после активации сервера вы получите письмо с URL для подключения Outline Manager и данными доступа. Их можно использовать для подключения к серверу через клиент Outline Connect, или же для управления сервером через приложение Outline Manager.

#### Через панель управления ВМ

Перейдите в [панель управления ВМ](https://vm.senko.digital), перейдите в управление нужным сервером, в правом верхнем углу раскройте "Меню" и выберите опцию "Запустить скрипт". 

В диалоге выберите "Outline" и включите опцию "Отправить письмо, которое привязано к скрипту".

Сразу после завершения процесса установки, вы получите письмо с URL Outline Manager и данными доступа. Эти данные можно использовать для подключения к серверу через Outline Connect, или же для управления сервером в приложении Outline Manager.

### Стандартная установка

Процесс установки зависит от вашего Linux‑дистрибутива. Используйте команды, соответствующие вашей системе.

:::: code-group

```bash [Ubuntu/Debian]
# Обновите список пакетов
apt-get update -y

# Установите необходимые зависимости
apt-get install -y curl jq
```

```bash [RHEL/CentOS/AlmaLinux/Rocky/Fedora]
# Установите репозиторий EPEL (если ещё не установлен)
yum install -y epel-release
# Или для более новых систем:
dnf install -y epel-release

# Установите необходимые зависимости
yum install -y curl jq
# Или для более новых систем:
dnf install -y curl jq
```

::::

#### Запустите официальный установщик Outline

Проект Outline предоставляет официальный скрипт установки, который выполнит всю сложную настройку за вас:

```bash
# Загрузка и запуск официального установщика Outline
curl -sS https://raw.githubusercontent.com/Jigsaw-Code/outline-server/master/src/server_manager/install_scripts/install_server.sh | bash
```

Скрипт выполнит следующие действия:
- Установит Docker и Docker Compose
- Развернёт сервер Outline (Shadowsocks)
- Настроит интерфейс управления
- Сгенерирует сертификаты сервера
- Запустит необходимые сервисы

## Установка приложения Outline Manager

После установки сервера необходимо установить приложение Outline Manager, чтобы управлять сервером и создавать ключи доступа.

### Загрузка приложения Outline Manager

Скачайте приложение Outline Manager для вашей платформы:

- Windows: [скачать с официального сайта](https://getoutline.org/get-started/#step-1)
- macOS: [скачать с официального сайта](https://getoutline.org/get-started/#step-1) или из [Mac App Store](https://apps.apple.com/app/outline-manager/id1356177745)
- Linux: [скачать с официального сайта](https://getoutline.org/get-started/#step-1)

### Поиск конфигурации сервера

Скрипт установки выведет JSON с ссылкой для подключения к серверу. Ищите вывод, похожий на:

```json
{
  "apiUrl": "https://your-server-ip:port/your-server-id",
  "certSha256": "your-certificate-hash"
}
```

Сохраните эти данные — они пригодятся в следующем шаге.

Если найти конфигурацию не удаётся, проверьте логи установки:

```bash
# Поиск параметров сервера в логе установки
cat /var/log/outline-install.log | grep -E "(apiUrl|certSha256)"
```

### Добавление сервера в Outline Manager

1. Установите и запустите приложение Outline Manager
2. Выберите опцию "Set up Outline anywhere"
![Outline Manager window with server provider selection and an arrow pointing towards "Set up Outline anywhere"](/images/vpn/outline/set-up-anywhere.png){data-zoomable}
1. Вставьте ссылку для подключения к серверу (apiUrl и certSha256, вместе с {}), скопированную в прошлом шаге.
![Outline Manager window with a prompt to paste server configuration](/images/vpn/outline/paste-credentials.png){data-zoomable}
4. Нажмите "Done", чтобы добавить сервер

После успешной настройки, приложение сразу же перенаправит вас в панель управления сервером:

![Outline Manager dashboard](/images/vpn/outline/dashboard.png){data-zoomable}

## Настройка сервера

### Первичная настройка

После добавления сервера в приложение Outline Manager, вы сможете изменить его базовые настройки:

1. Название сервера — задайте понятное вам имя
2. Лимиты трафика — при необходимости установите месячные лимиты на расход трафика

![Outline Manager server settings](/images/vpn/outline/settings.png){data-zoomable}

### Создание ключей доступа

Ключи доступа — это данные, с помощью которых клиенты подключаются к вашему серверу Outline. Каждый ключ это новое, отдельное подключение.

#### Создание первого ключа доступа

Нажмите "Add new key" в приложении Outline Manager:
![Outline Manager - Add new key](/images/vpn/outline/add-new-key.png){data-zoomable}

Система сразу же сгенерирует уникальный URL доступа (начинается с `ss://`), который используется клиентами для подключения. 

С помощью приложения Outline Connect вы можете:

- **Изменить название ключа**
- **Следить за статистикой потребления трафика** по каждому ключу
- **Установить или сбросить ограничения трафика** (если требуется)

Чтобы просмотреть ключ, нажмите на иконку **"Share"** напротив нужного ключа, и в открывшемся окне вы увидите ключ доступа.

![Outline Manager - Access key](/images/vpn/outline/access-key.png){data-zoomable}

Предоставьте его вашим пользователям, либо используйте его в следующем шаге.

## Настройка клиентов

### Установка Outline Connect

Для подключения используются официальные клиентские приложения "Outline Connect" для разных платформ.

#### Установка на Windows

1. Скачайте Outline Connect с [официального сайта](https://getoutline.org/get-started/#step-3) или напрямую с [зеркала](https://s3.amazonaws.com/outline-releases/client/windows/stable/Outline-Client.exe)
2. Запустите установщик и следуйте инструкциям мастера
3. Откройте Outline Connect после установки

#### Установка на macOS

1. Скачайте Outline Connect из [Mac App Store](https://apps.apple.com/app/outline-app/id1356178125) или с [официального сайта](https://getoutline.org/get-started/#step-3)
2. Установите приложение стандартным способом для macOS
3. Запустите Outline Connect из папки "Программы" (Applications)

#### Установка на Linux

1. Скачайте AppImage файл с [официального зеркала](https://s3.amazonaws.com/outline-releases/client/linux/stable/Outline-Client.AppImage)
2. Сделайте файл исполняемым: `chmod +x Outline-Client.AppImage`
3. Запустите приложение

#### Мобильные устройства (Android/iOS)

1. Скачайте приложение:
   - Android: [Google Play Store](https://play.google.com/store/apps/details?id=org.outline.android.client) или [прямая загрузка APK](https://s3.amazonaws.com/outline-releases/client/android/stable/Outline-Client.apk)
   - iOS: [App Store](https://apps.apple.com/app/outline-app/id1356178125)
2. Установите и запустите приложение Outline Connect

### Подключение к вашему VPN

1. Откройте Outline Connect на устройстве
2. Добавьте сервер через кнопку "+"
3. Вставьте ключ доступа — URL, начинающийся с `ss://`, скопированный из Outline Manager
4. Задайте имя подключения (опционально)
5. Нажмите "Add" для сохранения
6. Подключитесь переключателем рядом с вашим сервером

## Проверка

### Проверка статуса сервера

Проверьте, что сервер Outline работает корректно:

```bash
# Проверка, запущены ли Docker контейнеры
docker ps | grep outline

# Посмотреть логи сервера Outline
docker logs outline-server

# Проверка доступности веб-интерфейса управления Outline
curl -k https://localhost:your-port/your-server-id
```

### Тест VPN‑подключения

1. Подключитесь к VPN через Outline Connect
2. Проверьте внешний IP — зайдите на [check-host.net](https://check-host.net) и убедитесь, что IP изменился
3. Проверьте доступ в интернет — большинство сайтов должно работать корректно
4. Оцените стабильность — оставьте соединение активным на некоторое время

## Настройка брандмауэра

Outline использует протокол Shadowsocks и обычно работает на настраиваемом порту. Убедитесь, что брандмауэр пропускает нужный трафик:

### Для UFW (Ubuntu/Debian):

```bash
# Разрешите порт Outline (уточните порт в URL менеджера)
ufw allow 443/tcp
ufw allow 80/tcp

# Если используется другой порт — замените CUSTOM на нужный порт
ufw allow CUSTOM/tcp
```

### Для firewalld (RHEL/CentOS):

```bash
# Разрешите порт Outline
firewall-cmd --permanent --add-port=443/tcp
firewall-cmd --permanent --add-port=80/tcp
firewall-cmd --reload

# Если используется другой порт — замените CUSTOM на нужный порт
firewall-cmd --permanent --add-port=CUSTOM/tcp
firewall-cmd --reload
```

## Управление пользователями и доступом

### Добавление пользователей

1. Создавайте дополнительные ключи доступа в приложении Outline Manager
2. Передавайте URL ключей пользователям удобным способом
3. Настраивайте индивидуальные лимиты при необходимости
4. Отслеживайте использование в приложении управления

### Возможности управления

- Статистика использования — объём трафика по каждому ключу
- Мониторинг подключений — кто подключён в данный момент
- Лимиты трафика — установка и контроль месячных лимитов
- Управление ключами — переименование, изменение, удаление

## Устранение неполадок

### Частые проблемы

1. Нет соединения с сервером в Outline Manager:
   - Проверьте, запущен ли сервер: `docker ps | grep outline`
   - Убедитесь, что параметры (apiUrl и certSha256) указаны верно
   - Убедитесь, что порт открыт в брандмауэре
   - Проверьте доступность сервера из вашей сети

2. Клиент не подключается:
   - Проверьте корректность URL ключа доступа
   - Убедитесь, что серверный порт доступен снаружи
   - Обновите клиентское приложение до последней версии
   - Попробуйте пересоздать ключ

3. Низкая скорость:
   - Проверьте ресурсы сервера (CPU, RAM, канал)
   - Проверьте скорость вашего интернет‑соединения
   - Попробуйте подключиться из другой сети
   - Убедитесь, что не задан слишком строгий лимит трафика

4. Ошибки в приложении Outline Manager:
   - Посмотрите логи контейнера: `docker logs outline-server`
   - Перезапустите сервис: `docker restart outline-server`
   - Проверьте свободное место и системные ресурсы
   - Удалите и заново добавьте сервер в приложении Outline Manager

### Полезные команды

```bash
# Статус сервера Outline
docker ps | grep outline

# Просмотр логов сервера
docker logs outline-server

# Перезапуск сервера Outline
docker restart outline-server

# Проверка системных ресурсов
htop
df -h

# Тест сетевой связности
ping 8.8.8.8
curl -I https://www.google.com
```

### Отладка сети

```bash
# Проверка, что нужный порт занят сервисом
netstat -tlnp | grep :your-port

# Тест доступности порта
telnet your-server-ip your-port

# Статус брандмауэра
ufw status
# Или
firewall-cmd --list-all
```

## Рекомендации по безопасности

1. Храните ключи доступа в безопасности — не передавайте их сторонним людям и периодически меняйте их
2. Используйте сложные пароли — задайте надёжный пароль для Outline Manager
3. Обновляйте ПО — поддерживайте систему и Outline в актуальном состоянии
4. Мониторинг — регулярно проверяйте активность в приложении управления
5. Резервные копии — храните бэкапы конфигураций
6. Сетевая безопасность — ограничивайте лишний трафик через брандмауэр

## Расширенная настройка

### Изменение порта

Если нужно поменять порт по умолчанию:

1. Остановите сервер Outline: `docker stop outline-server`
2. Измените конфигурацию в файле docker‑compose
3. Запустите сервер: `docker start outline-server`
4. Обновите правила брандмауэра для нового порта

### Настройка SSL‑сертификата

Для более серьёзного и надёжного использования VPN, рекомендуем заменить самоподписанный сертификат на полноценный:

1. Получите SSL‑сертификат (рекомендуем Let's Encrypt)
2. Обновите конфигурацию Outline для использования нового сертификата
3. Перезапустите сервер Outline

## Заключение

Теперь у вас есть полностью рабочий сервер Outline VPN! Приложение Outline Manager упрощает управление пользователями, мониторинг и настройку сервера. Пользователи могут подключаться с помощью официальных приложений Outline Connect на любой платформе.

Не забывайте:
- Хранить ключи доступа в секрете
- Регулярно мониторить использование ресурсов и производительность сети
- Обновлять сервер и ПО
- Делать резервные копии конфигурации

Приложение Outline Manager предоставляет интуитивный интерфейс для всех задач администрирования, упрощая поддержку и масштабирование вашего VPN‑сервиса.
